<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <title>Canvas Waves Animation</title>
  <style>
    body {
      margin: 0;
      background: #023453; /* 淡藍色背景 */
      overflow: hidden;
    }
    canvas {
      display: block;
    }
  </style>
</head>
<body>
  <canvas id="waveCanvas"></canvas>
  <script src="waves.js"></script>
  
</body>
</html>
<script>
  const canvas = document.getElementById('waveCanvas');
  const ctx = canvas.getContext('2d');

  let width = window.innerWidth;
  let height = window.innerHeight;
  canvas.width = width;
  canvas.height = height;

  window.addEventListener('resize', () => {
    width = window.innerWidth;
    height = window.innerHeight;
    canvas.width = width;
    canvas.height = height;
  });

  const waves = [];
  const lines = [];

  // 產生多條波浪路徑
  for (let i = 0; i < 5; i++) {
  waves.push({
    amplitude: 20 + Math.random() * 20, // 波浪高度（振幅）
    wavelength: 200 + Math.random() * 100, // 波長
    speed: 0.02 + Math.random() * 0.02, // 波浪流動速度
    offset: Math.random() * Math.PI * 2, // 相位偏移（讓每條波浪不同步）
    y: (height / 6) * (i + 1) // 波浪垂直位置（分散在畫布上）
  });
}

  // 產生沿波浪漂流的線條（粒子）
  for (let i = 0; i < 30; i++) {
  lines.push({
    waveIndex: Math.floor(Math.random() * waves.length), // 指定在哪條波浪上漂
    x: Math.random() * width, // 起始水平位置
    speed: 1 + Math.random() * 1, // 漂移速度
    length: 20 + Math.random() * 20 // 線條長度
  });
}
  //畫一條完整的波浪
  function drawWave(wave) {
    ctx.beginPath();
    ctx.moveTo(0, wave.y);
    for (let x = 0; x < width; x++) {
      const y = wave.y + Math.sin(x / wave.wavelength + wave.offset) * wave.amplitude;
      ctx.lineTo(x, y);
    }
    ctx.strokeStyle = 'rgba(255, 255, 255, 0.1)';// 淡淡的白色
    ctx.lineWidth = 1;
    ctx.stroke();
  }

  //畫一條沿波浪漂流的線（粒子）
  function drawLine(line, wave) {
    const x1 = line.x;
    const x2 = line.x + line.length;
    const y1 = wave.y + Math.sin(x1 / wave.wavelength + wave.offset) * wave.amplitude;
    const y2 = wave.y + Math.sin(x2 / wave.wavelength + wave.offset) * wave.amplitude;

    ctx.beginPath();
    ctx.moveTo(x1, y1);
    ctx.lineTo(x2, y2);
    ctx.strokeStyle = 'rgba(255, 255, 255, 0.8)';// 比波浪亮
    ctx.lineWidth = 2;
    ctx.stroke();
  }

  function animate() {
    ctx.clearRect(0, 0, width, height);

    waves.forEach(wave => {
      wave.offset += wave.speed;
      drawWave(wave);
    });

    lines.forEach(line => {
      const wave = waves[line.waveIndex];
      drawLine(line, wave);
      line.x += line.speed;

      if (line.x - line.length > width) {
        line.x = -line.length;
      }
    });

    requestAnimationFrame(animate);
  }

  animate();

</script>